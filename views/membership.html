<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Membership Plans | Sportify Spots</title>
     <link rel="icon" type="image/png" href="/Image/logo.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/index.css" rel="stylesheet">
    <link href="/css/chatbot.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
/* MEMBERSHIP SECTION */

.membership-section {
    padding: 70px 20px;
    text-align: center;
    background: #F3EFE4; /* Match main body bg */
}

.membership-section h2 {
    font-size: 32px;
    color: #1f4f46;
}

.sub-text {
    color: #666;
    margin-bottom: 50px;
}

.membership-cards {
    display: flex;
    justify-content: center;
    gap: 30px;
    flex-wrap: wrap;
}

/* CARD BASE */
.membership-card {
    width: 300px;
    padding: 30px;
    border-radius: 18px;
    background: white;
    box-shadow: 0 20px 35px rgba(0,0,0,0.1);
    transition: transform 0.3s ease;
    position: relative;
    border: 2px solid white;
}

.membership-card:hover {
    transform: translateY(-10px);
    border-color: #1abc9c;
}

.membership-card h3 {
    font-size: 24px;
    margin-bottom: 10px;
    color: #1f4f46;
}

/* PRICE */
.price {
    font-size: 34px;
    font-weight: bold;
    margin: 15px 0;
    color: #1f4f46;
}

.price span {
    font-size: 14px;
    color: #777;
}

/* LIST */
.membership-card ul {
    list-style: none;
    text-align: left;
    margin: 25px 0;
    padding: 0;
}

.membership-card ul li {
    margin: 10px 0;
    color: #444;
}

/* PRO CARD */
.pro {
    border-top: 6px solid #1abc9c;
}

.btn-pro {
    background: #1abc9c;
    color: white;
    border: none;
    padding: 12px;
    width: 100%;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    transition: 0.3s;
}

.btn-pro:hover {
    background: #16a085;
    transform: scale(1.02);
}

/* PRO PLUS CARD */
.pro-plus {
    background: linear-gradient(135deg, #1f4f46, #1abc9c);
    color: white;
    transform: scale(1.05);
    border: none;
}

.pro-plus h3, .pro-plus .price {
    color: white;
}

.pro-plus .price span {
    color: rgba(255, 255, 255, 0.8);
}

.pro-plus ul li {
    color: #eafaf7;
}

.btn-plus {
    background: #FACC15;
    color: #1f4f46;
    border: none;
    padding: 12px;
    width: 100%;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    transition: 0.3s;
}

.btn-plus:hover {
    background: #e5b813;
    transform: scale(1.02);
}

/* BADGE */
.badge {
    position: absolute;
    top: -12px;
    right: 20px;
    background: #FACC15;
    color: #1f4f46;
    padding: 5px 10px;
    font-size: 12px;
    font-weight: bold;
    border-radius: 5px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .membership-cards {
        gap: 20px;
    }

    .pro-plus {
        transform: scale(1);
    }
}


        .membership-sections {
            padding: 80px 20px;
            background: linear-gradient(#1F4F46 ,#245d52 ,#2a6b5f);
            color: #F3EFE4;
            text-align: center;
        }
        .membership-sections h1 {
            font-size: 48px;
            margin-bottom: 20px;
            font-weight: bold;
        }
        .membership-sections p {
            font-size: 18px;
            margin-bottom: 50px;
        }
        .plans-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            padding: 40px 20px;
            margin: 0 auto;
            max-width: 1200px;
            gap: 30px;
        }
        .benefits-section {
            background: #F3EFE4;
            padding: 60px 20px;
        }
        .benefits-section h2 {
            text-align: center;
            margin-bottom: 50px;
            font-size: 36px;
            font-weight: bold;
            color: #1f4f46;
        }
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        .benefit-item {
            background: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            border-bottom: 4px solid #1abc9c;
        }
        .benefit-icon {
            font-size: 40px;
            margin-bottom: 15px;
        }
        .benefit-item h3 {
            font-size: 20px;
            margin-bottom: 10px;
            color: #1f4f46;
        }
        .benefit-item p {
            color: #666;
            font-size: 14px;
        }
    </style>
</head>
<body>

<header>
    <div class="logo-container">
        <img src="/Image/logo.png" alt="Logo" class="logo-img">
        <div class="btn-shine">Sportify Spots</div>
    </div>
    <div class="menu-toggle" id="mobile-menu">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
    </div>
    <nav id="nav-menu">
        <a id="homeLink" href="index.html">Home</a>
        <button class="button1" onclick="window.location.href='membership.html'">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 24">
        <path d="m18 0 8 12 10-8-4 20H4L0 4l10 8 8-12z"></path>
    </svg>
    Membership
</button>
        <a href="grounds.html">Grounds</a> 
        <a href="services.html">Service</a>
        <a id="profileLink" href="profile.html" class="profile-pill" style="display: none;">üë§ Profile</a>
         <button class="button" id="loginBtn" onclick="window.location.href='login.html'">Login</button>
    </nav>
</header>

<section class="membership-sections">
    <h1>Premium Membership Plans</h1>
    <p>Get exclusive benefits and unlock amazing discounts on ground bookings</p>
</section>

<section class="membership-section">
    <h2>Choose Your Membership</h2>
    <p class="sub-text">Unlock exclusive benefits and save more on every booking</p>

    <div class="membership-cards">

        <!-- PRO CARD -->
        <div class="membership-card pro">
            <h3>PRO</h3>
            <p class="price">‚Çπ499 <span>/ month</span></p>

            <ul>
                <li>‚úî 10% discount on bookings</li>
                <li>‚úî Early slot access</li>
                <li>‚úî Priority customer support</li>
                <li>‚úî Standard tournaments access</li>
                <li>‚úî <b>Special:</b> Referral bonuses</li>
            </ul>

            <button class="btn-pro" onclick="window.location.href='membership-checkout.html?plan=monthly'">Get Pro</button>
        </div>

        <!-- PRO PLUS CARD -->
        <div class="membership-card pro-plus">
            <div class="badge">MOST POPULAR</div>
            <h3>PRO PLUS</h3>
            <p class="price">‚Çπ999 <span>/ month</span></p>

            <ul>
                <li>‚úî 20% discount on bookings</li>
                <li>‚úî Free cancellation</li>
                <li>‚úî VIP support</li>
                <li>‚úî Premium tournaments</li>
                <li>‚úî <b>Offer:</b> ‚Çπ100 off on 1st booking</li>
                <li>‚úî Exclusive monthly gear raffles</li>
            </ul>

            <button class="btn-plus" onclick="window.location.href='membership-checkout.html?plan=pro-plus'">Get Pro Plus</button>
        </div>

    </div>
</section>


<section class="benefits-section" style="background: white;">
    <h2>Limited Time Member Offers</h2>
    <div class="benefits-grid">
        <div class="benefit-item" style="border-bottom-color: #FACC15;">
            <div class="benefit-icon">üéÅ</div>
            <h3>Welcome Bonus</h3>
            <p>Pro Plus members get ‚Çπ100 flat discount on their first ground booking automatically!</p>
        </div>
        <div class="benefit-item" style="border-bottom-color: #FACC15;">
            <div class="benefit-icon">üè∏</div>
            <h3>Free Equipment</h3>
            <p>Rent basic equipment for free for your first 3 bookings as a member.</p>
        </div>
        <div class="benefit-item" style="border-bottom-color: #FACC15;">
            <div class="benefit-icon">ü•§</div>
            <h3>Free Hydration</h3>
            <p>Show your membership card at any ground to get 2 free energy drinks per booking.</p>
        </div>
    </div>
</section>

<section class="benefits-section">
    <h2>What You Get as a Member</h2>
    <div class="benefits-grid">
        <div class="benefit-item">
            <div class="benefit-icon">üí∞</div>
            <h3>Up to 20% Discount</h3>
            <p>Save on every ground booking with exclusive member rates</p>
        </div>
        <div class="benefit-item">
            <div class="benefit-icon">‚ö°</div>
            <h3>Priority Booking</h3>
            <p>Get first access to premium grounds and peak time slots</p>
        </div>
        <div class="benefit-item">
            <div class="benefit-icon">üìÖ</div>
            <h3>Flexible Cancellation</h3>
            <p>Cancel or pause membership anytime, no hidden charges</p>
        </div>
        <div class="benefit-item">
            <div class="benefit-icon">üéØ</div>
            <h3>Exclusive Events</h3>
            <p>Join members-only tournaments and special events</p>
        </div>
        <div class="benefit-item">
            <div class="benefit-icon">üìä</div>
            <h3>Booking History</h3>
            <p>Track all your bookings and spending in one place</p>
        </div>
        <div class="benefit-item">
            <div class="benefit-icon">ü§ù</div>
            <h3>Priority Support</h3>
            <p>Get dedicated support for any issues or questions</p>
        </div>
    </div>
</section>

<footer>
    <div class="footer-content">
        <div class="footer-links">
            <a href="#">About Us</a>
            <a href="#">Contact</a>
            <a href="#">Privacy Policy</a>
            <a href="#">Terms of Service</a>
        </div>
        <div class="social-links">
            <a href="#">Facebook</a>
            <a href="#">Twitter</a>
            <a href="#">Instagram</a>
        </div>
    </div>
    <p>¬© 2026 Sportify Spots | Made by Helvsite</p>
</footer>

<script src="/js/supabase-config.js"></script>
<script src="/js/auth-check.js"></script>
<script src="/js/chatbot.js"></script>
<script>
  (async function(){
    // Set home link
    var homeLink = document.getElementById('homeLink');
    if(homeLink) homeLink.href = 'index.html';

    // Mobile Menu Toggle
    var mobileMenu = document.getElementById('mobile-menu');
    var navMenu = document.getElementById('nav-menu');
    if(mobileMenu && navMenu) {
        mobileMenu.addEventListener('click', function() {
            mobileMenu.classList.toggle('active');
            navMenu.classList.toggle('active');
        });
    }

    // Check membership status
    const userEmail = localStorage.getItem('userEmail');
    if (userEmail) {
        try {
            const response = await fetch('/api/membership/verify', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ email: userEmail })
            });
            const data = await response.json();
            
            if (data.success && data.isActiveMember) {
                // User is already a member
                const cardsContainer = document.querySelector('.membership-cards');
                const subText = document.querySelector('.sub-text');
                
                if (subText) {
                    subText.innerHTML = `You are currently a <strong style="color: #1abc9c;">${data.plan.toUpperCase()}</strong> member. <br>Manage your subscription below.`;
                }
                
                if (cardsContainer) {
                    cardsContainer.innerHTML = `
                        <div class="membership-card pro-plus" style="width: 100%; max-width: 500px;">
                            <h3>Active Membership</h3>
                            <p class="price" style="font-size: 24px;">Plan: ${data.plan.toUpperCase()}</p>
                            <p>You are enjoying ${data.discountPercentage}% discount on all bookings!</p>
                            <div style="margin-top: 20px; display: flex; gap: 15px; justify-content: center;">
                                <button class="btn-plus" onclick="window.location.href='profile.html'">View Profile</button>
                                <button class="btn-plus" id="cancelMembershipBtn" style="background: #e74c3c; color: white;">Cancel Membership</button>
                            </div>
                        </div>
                    `;
                    
                    document.getElementById('cancelMembershipBtn').addEventListener('click', async function() {
                        if (confirm('Are you sure you want to cancel your membership?')) {
                            try {
                                const delResponse = await fetch(`/api/membership/${userEmail}`, {
                                    method: 'DELETE'
                                });
                                const delData = await delResponse.json();
                                if (delData.success) {
                                    alert('Membership cancelled successfully.');
                                    window.location.reload();
                                } else {
                                    alert('Error: ' + delData.message);
                                }
                            } catch (err) {
                                console.error(err);
                                alert('Failed to cancel membership.');
                            }
                        }
                    });
                }
            }
        } catch (err) {
            console.error('Error verifying membership:', err);
        }
    }
  })();
</script>

</body>
</html>
